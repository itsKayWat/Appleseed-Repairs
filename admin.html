<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appleseed Repairs Dashboard</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #0f1642;
            color: #ffffff;
        }

        .wrapper {
            display: flex;
            max-width: 1500px;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
        }

        .left-side {
            width: 80px;
            padding: 20px;
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .main-container {
            flex: 1;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .dashboard-card {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
        }

        .header {
            background: rgba(26, 32, 73, 0.95);
            padding: 20px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .logo-det {
            color: #4255d4;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .action-button {
            background: #4255d4;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .action-button:hover {
            background: #3445b4;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .metric-item {
            background: rgba(66, 85, 212, 0.1);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #4255d4;
            display: block;
        }

        .metric-label {
            font-size: 14px;
            color: #818394;
            margin-top: 5px;
        }

        .marketing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .marketing-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            background: rgba(66, 85, 212, 0.1);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .marketing-button:hover {
            background: rgba(66, 85, 212, 0.2);
            transform: translateY(-2px);
        }

        .marketing-button i {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .services-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .service-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: rgba(66, 85, 212, 0.1);
            border-radius: 5px;
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            color: #818394;
            cursor: pointer;
        }

        .nav-icon.active {
            color: #4255d4;
        }

        .service-item.on-sale {
            background: rgba(66, 212, 85, 0.2);
            border: 1px solid #4dd463;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: rgba(26, 32, 73, 0.95);
            padding: 20px;
            border-radius: 10px;
            width: 300px;
        }

        .modal-content input {
            width: 100%;
            margin: 10px 0;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #4255d4;
            background: rgba(66, 85, 212, 0.1);
            color: white;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .delete-button:hover {
            background: #b33636;
        }

        .service-item {
            cursor: pointer;
        }

        .service-item:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        /* Enhanced card animations */
        .dashboard-card {
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(66, 85, 212, 0.1),
                transparent
            );
            transition: 0.5s;
        }

        .dashboard-card:hover::before {
            left: 100%;
        }

        /* Enhanced metric items */
        .metric-item {
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(66, 85, 212, 0.2);
        }

        .metric-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: #4255d4;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.5s;
        }

        .metric-item:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        /* New loading indicator */
        .loading-indicator {
            width: 100%;
            height: 2px;
            background: rgba(66, 85, 212, 0.1);
            position: relative;
            margin-top: 10px;
        }

        .loading-indicator::after {
            content: '';
            position: absolute;
            height: 100%;
            width: 0;
            background: #4255d4;
            animation: loading 30s linear infinite;
        }

        @keyframes loading {
            0% { width: 0; }
            100% { width: 100%; }
        }

        /* Enhanced marketing buttons */
        .marketing-button {
            position: relative;
            overflow: hidden;
        }

        .marketing-button i {
            transition: transform 0.3s ease;
        }

        .marketing-button:hover i {
            transform: scale(1.2);
        }

        .marketing-button span {
            display: block;
            font-size: 0.8em;
            margin-top: 5px;
            color: #818394;
        }

        /* New notification badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #d44242;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        /* Enhanced modal styles */
        .modal-content {
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        }

        /* New tooltip styles */
        [data-tooltip] {
            position: relative;
        }

        [data-tooltip]:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(26, 32, 73, 0.95);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }

        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .notification {
            background: rgba(26, 32, 73, 0.95);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideIn 0.3s ease;
            max-width: 300px;
        }

        .notification.success { border-left: 4px solid #4dd463; }
        .notification.error { border-left: 4px solid #d44242; }
        .notification.info { border-left: 4px solid #4255d4; }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        }

        /* Add these new styles */
        .dashboard-section {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-icon.active {
            background: rgba(66, 85, 212, 0.2);
            color: #4255d4;
        }

        .settings-form {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #818394;
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"] {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #4255d4;
            background: rgba(66, 85, 212, 0.1);
            color: white;
        }

        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .notification {
            background: rgba(26, 32, 73, 0.95);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            margin-bottom: 10px;
            animation: slideIn 0.3s ease;
        }

        .notification.success { border-left: 4px solid #4dd463; }
        .notification.error { border-left: 4px solid #d44242; }
        .notification.info { border-left: 4px solid #4255d4; }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Document Section Styles */
        .document-upload {
            padding: 20px;
        }

        .upload-form {
            width: 100%;
        }

        .upload-area {
            border: 2px dashed #4255d4;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            background: rgba(66, 85, 212, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        .upload-area i {
            font-size: 48px;
            color: #4255d4;
            margin-bottom: 15px;
        }

        .upload-area p {
            margin-bottom: 15px;
            color: #818394;
        }

        .document-list {
            padding: 20px;
        }

        .document-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(66, 85, 212, 0.1);
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .document-item:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        .document-item i {
            margin-right: 10px;
            color: #4255d4;
        }

        .document-item .delete-icon {
            margin-left: auto;
            color: #d44242;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .document-item:hover .delete-icon {
            opacity: 1;
        }

        .pdf-viewer {
            width: 100%;
            height: 600px;
            background: #fff;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .document-actions {
            margin-left: auto;
            display: flex;
            gap: 8px;
        }

        .action-button.small {
            padding: 4px;
            min-width: 32px;
            height: 32px;
        }

        .action-button.small i {
            font-size: 18px;
        }

        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            padding: 15px;
        }

        .reviews-container {
            padding: 20px;
        }

        .reviews-summary {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .rating-chart {
            flex: 1;
            max-width: 600px;
        }

        .rating-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .rating-bar .bar {
            flex: 1;
            height: 20px;
            background: rgba(66, 85, 212, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .rating-bar .fill {
            height: 100%;
            background: #4255d4;
            transition: width 0.3s ease;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* Add these new styles */
        .header-actions {
            display: flex;
            gap: 10px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
        }

        .action-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: #4255d4;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-button:hover {
            background: #3445b4;
            transform: translateY(-2px);
        }

        .metric-trend {
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .metric-trend.positive {
            color: #4dd463;
        }

        .metric-trend.negative {
            color: #d44242;
        }

        .reviews-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
        }

        .reviews-section h3 {
            margin-bottom: 15px;
            color: #ffffff;
        }

        /* Update existing styles */
        .metric-card {
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #4255d4;
        }

        .metric-card:hover {
            transform: translateY(-2px);
            transition: transform 0.3s ease;
        }

        /* Updated styles to match the theme */
        .header-buttons {
            display: flex;
            gap: 10px;
        }

        .header-button {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .header-button:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .action-btn {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .action-btn:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        .trend-indicator {
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .trend-indicator.positive {
            color: #4CAF50;
        }

        .trend-indicator.negative {
            color: #f44336;
        }

        .rating-stars {
            color: #FFD700;
            font-size: 1.2rem;
        }

        /* Add these new styles */
        .performance-metrics {
            margin-top: 20px;
            padding: 20px;
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
        }

        .performance-metrics h3 {
            color: #ffffff;
            margin-bottom: 15px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(66, 85, 212, 0.1);
            border-radius: 3px;
            margin-top: 8px;
        }

        .progress {
            height: 100%;
            background: #4255d4;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        /* Update existing metric-item for website stats */
        .stat-item {
            background: rgba(26, 32, 73, 0.5);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #4255d4;
        }

        .stat-label {
            color: #818394;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Funnel Management Styles */
        .funnel-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .funnel-tab {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .funnel-tab.active {
            background: #4255d4;
        }

        .funnel-tab:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        .pages-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .funnel-group {
            display: none; /* Hidden by default */
        }

        .funnel-group.active {
            display: block;
        }

        .page-card {
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .page-card:hover {
            background: rgba(26, 32, 73, 0.7);
            transform: translateY(-2px);
        }

        .page-info {
            flex: 1;
        }

        .page-info h4 {
            color: #ffffff;
            margin: 0 0 5px 0;
        }

        .page-url {
            color: #818394;
            font-size: 0.9rem;
        }

        .page-stats {
            display: flex;
            gap: 15px;
            margin: 0 20px;
        }

        .stat {
            color: #818394;
            font-size: 0.9rem;
        }

        .page-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn.small {
            padding: 4px;
            min-width: 32px;
            height: 32px;
        }

        .action-btn.small i {
            font-size: 18px;
        }

        .maps-preview-section {
            margin-top: 20px;
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
            padding: 20px;
        }

        .maps-container {
            width: 100%;
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .maps-stats {
            display: flex;
            justify-content: space-around;
            gap: 20px;
        }

        .map-stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: rgba(66, 85, 212, 0.1);
            border-radius: 8px;
            flex: 1;
        }

        .map-stat-item i {
            color: #4255d4;
            font-size: 24px;
            margin-bottom: 8px;
        }

        .map-stat-item .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
        }

        .map-stat-item .stat-label {
            color: #818394;
            font-size: 0.9rem;
            margin-top: 4px;
        }

        .map-stat-item:hover {
            background: rgba(66, 85, 212, 0.2);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }

        /* Boosting Section Styles */
        .boost-categories {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .boost-category {
            background: rgba(26, 32, 73, 0.5);
            border-radius: 10px;
            padding: 20px;
        }

        .boost-category h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #ffffff;
            margin-bottom: 15px;
        }

        .boost-actions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .boost-btn {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .boost-btn:hover {
            background: rgba(66, 85, 212, 0.2);
            transform: translateY(-2px);
        }

        .boost-btn i {
            font-size: 24px;
        }

        .boost-btn .count {
            font-size: 0.8rem;
            color: #818394;
        }

        .provider-link {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .provider-input {
            flex: 1;
            background: rgba(26, 32, 73, 0.8);
            border: 1px solid rgba(66, 85, 212, 0.2);
            color: #ffffff;
            padding: 8px 12px;
            border-radius: 5px;
        }

        .save-link-btn {
            background: #4255d4;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-link-btn:hover {
            background: #3445b4;
        }

        /* Updated Boost Management Styles */
        .boost-management {
            padding: 20px;
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
        }

        .platform-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .platform-tab {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .platform-tab.active {
            background: #4255d4;
        }

        .boost-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .boost-action {
            background: rgba(26, 32, 73, 0.5);
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .boost-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .boost-count {
            background: rgba(26, 32, 73, 0.8);
            border: 1px solid rgba(66, 85, 212, 0.2);
            color: #ffffff;
            padding: 5px 10px;
            border-radius: 4px;
            width: 100px;
            font-size: 1.1rem;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .save-count-btn,
        .open-link-btn,
        .edit-link-btn {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-count-btn:hover,
        .open-link-btn:hover,
        .edit-link-btn:hover {
            background: rgba(66, 85, 212, 0.3);
        }

        .save-count-btn.saved {
            background: #4CAF50;
        }

        .provider-link-section {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        .provider-link-input {
            flex: 1;
            background: rgba(26, 32, 73, 0.8);
            border: 1px solid rgba(66, 85, 212, 0.2);
            color: #ffffff;
            padding: 10px 15px;
            border-radius: 5px;
        }

        .save-provider-link {
            background: #4255d4;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .save-provider-link:hover {
            background: #3445b4;
        }

        /* Add these to your existing styles */
        .boost-action.selected {
            background: rgba(66, 85, 212, 0.2);
            border-left: 3px solid #4255d4;
        }

        .boost-action.has-link {
            position: relative;
        }

        .boost-action.has-link::after {
            content: '';
            position: absolute;
            right: 15px;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .platform-tab:hover {
            background: rgba(66, 85, 212, 0.2);
        }

        /* Add these modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: rgba(26, 32, 73, 0.95);
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 50%;
            max-width: 500px;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-header h3 {
            color: #ffffff;
            margin: 0;
        }

        .close-modal {
            color: #818394;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-modal:hover {
            color: #ffffff;
        }

        #providerLinkInput {
            width: 100%;
            background: rgba(26, 32, 73, 0.8);
            border: 1px solid rgba(66, 85, 212, 0.2);
            color: #ffffff;
            padding: 10px;
            border-radius: 5px;
            font-size: 1rem;
        }

        /* Update action buttons style */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .save-count-btn,
        .open-link-btn,
        .edit-link-btn {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-count-btn:hover,
        .open-link-btn:hover,
        .edit-link-btn:hover {
            background: rgba(66, 85, 212, 0.3);
        }

        /* Update modal styles */
        .modal-content {
            background: rgba(26, 32, 73, 0.95);
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 50%;
            max-width: 500px;
            position: relative;
        }

        .modal-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        #providerLinkInput {
            flex: 1;
            background: rgba(26, 32, 73, 0.8);
            border: 1px solid rgba(66, 85, 212, 0.2);
            color: #ffffff;
            padding: 10px;
            border-radius: 5px;
            font-size: 1rem;
        }

        .save-modal-btn {
            background: #4255d4;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .save-modal-btn:hover {
            background: #3445b4;
        }

        .save-modal-btn i {
            font-size: 18px;
        }

        /* Add this section under Account Settings in the HTML */
        .api-settings {
            margin-top: 30px;
            padding: 20px;
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
        }

        .api-settings h3 {
            margin-bottom: 20px;
            color: #ffffff;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #818394;
        }

        .api-input {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #4255d4;
            background: rgba(66, 85, 212, 0.1);
            color: white;
        }

        .api-input:focus {
            outline: none;
            border-color: #4255d4;
            box-shadow: 0 0 0 2px rgba(66, 85, 212, 0.2);
        }

        .setup-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .setup-card {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            overflow: hidden;
        }

        .setup-content {
            padding: 20px;
        }

        .setup-item {
            background: rgba(66, 85, 212, 0.1);
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 15px;
        }

        .item-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
        }

        .item-info h4 {
            margin: 0;
            color: #ffffff;
        }

        .time-estimate {
            font-size: 0.9em;
            color: #818394;
        }

        .item-details {
            margin-left: 33px;
        }

        .requirements, .action-steps {
            margin-top: 15px;
        }

        .requirements h5, .action-steps h5 {
            color: #ffffff;
            margin-bottom: 10px;
        }

        .requirements ul, .action-steps ol {
            margin-left: 20px;
            color: #818394;
        }

        .requirements li, .action-steps li {
            margin: 5px 0;
        }

        .setup-item a {
            color: #4255d4;
            text-decoration: none;
        }

        .setup-item a:hover {
            text-decoration: underline;
        }

        .setup-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 3px;
        }

        .checklist-item {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .item-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .item-info h4 {
            margin: 0;
            color: #ffffff;
            font-size: 1.1em;
        }

        .time-estimate {
            color: #818394;
            font-size: 0.9em;
            display: block;
            margin-top: 5px;
        }

        .item-details {
            margin-left: 35px;
            margin-top: 15px;
        }

        .item-details ul, .steps ol {
            list-style-type: none;
            padding: 0;
            margin: 10px 0;
            color: #818394;
        }

        .item-details li {
            margin: 8px 0;
        }

        .steps h5 {
            color: #ffffff;
            margin: 15px 0 10px 0;
        }

        .checklist-item a {
            color: #4255d4;
            text-decoration: none;
        }

        .checklist-item a:hover {
            text-decoration: underline;
        }

        h3 {
            color: #ffffff;
            margin: 30px 0 20px 0;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 3px;
        }

        .progress-container {
            background: rgba(26, 32, 73, 0.95);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            background: #4255d4;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-stats {
            color: #818394;
            font-size: 0.9em;
            margin-top: 10px;
            text-align: right;
        }

        .setup-step {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .step-number {
            background: #4255d4;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            padding: 20px;
            flex-grow: 1;
        }

        .step-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-title h4 {
            margin: 0;
            color: white;
        }

        .time-estimate {
            color: #818394;
            font-size: 0.9em;
            display: block;
            margin-top: 5px;
        }

        .step-details {
            margin-left: 35px;
            margin-top: 15px;
        }

        .step-details ul, .step-actions ol {
            list-style-type: none;
            padding: 0;
            margin: 10px 0;
            color: #818394;
        }

        .step-details li {
            margin: 8px 0;
        }

        .step-actions h5 {
            color: white;
            margin: 15px 0 10px 0;
        }

        .setup-categories h3 {
            color: white;
            margin: 30px 0 20px 0;
        }

        .export-btn {
            background: #4255d4;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .export-btn:hover {
            background: #3644b5;
        }

        .setup-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
        }

        .setup-column {
            min-width: 350px;
        }

        .setup-step {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .setup-step:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        /* ... rest of your existing styles ... */

        .spreadsheet-btn {
            background-color: #4255d4; /* Match the color scheme */
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .spreadsheet-btn:hover {
            background-color: #3644b5; /* Darker shade on hover */
        }

        /* Add these styles */
        .legal-bookmarks-card {
            background: rgba(26, 32, 73, 0.95);
            border-radius: 10px;
            padding: 20px;
            margin: 20px;
        }

        .bookmarks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .bookmark-category {
            background: rgba(26, 32, 73, 0.5);
            border-radius: 8px;
            padding: 15px;
        }

        .bookmark-category h4 {
            color: #ffffff;
            margin: 0 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(66, 85, 212, 0.2);
        }

        .bookmark-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .bookmark-link {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #818394;
            text-decoration: none;
            padding: 8px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .bookmark-link:hover {
            background: rgba(66, 85, 212, 0.1);
            color: #ffffff;
            transform: translateX(5px);
        }

        .bookmark-link i {
            color: #4255d4;
        }

        .repair-guides-section {
            padding: 20px;
            background: rgba(26, 32, 73, 0.95);
            border-radius: 12px;
            margin: 20px;
        }

        .repair-guide-card {
            background: rgba(66, 85, 212, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
            transition: all 0.3s ease;
            border: 1px solid rgba(66, 85, 212, 0.2);
        }

        .repair-guide-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-color: rgba(66, 85, 212, 0.4);
        }

        .guide-header {
            margin-bottom: 20px;
        }

        .guide-title {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .guide-title h3 {
            margin: 0;
            font-size: 1.4em;
            color: #ffffff;
        }

        .device-badge {
            background: #4255d4;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .guide-meta {
            display: flex;
            gap: 20px;
            color: #818394;
            font-size: 0.9em;
        }

        .guide-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .guide-meta i {
            font-size: 1.1em;
            color: #4255d4;
        }

        .guide-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .section-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: rgba(26, 32, 73, 0.6);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .section-item:hover {
            background: rgba(66, 85, 212, 0.2);
            transform: translateX(5px);
        }

        .section-item i {
            color: #4255d4;
        }

        .view-guide-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: #4255d4;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .view-guide-button:hover {
            background: #3445b4;
            transform: translateY(-2px);
        }

        .view-guide-button i {
            font-size: 1.1em;
        }

        /* Update just the button styles */
        .guide-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }

        .view-guide-button {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 24px;
            background: linear-gradient(45deg, #4255d4, #5466e5);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 12px rgba(66, 85, 212, 0.2);
            min-width: 200px;
        }

        .view-guide-button:hover {
            background: linear-gradient(45deg, #3445b4, #4255d4);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(66, 85, 212, 0.3);
        }

        .view-guide-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(66, 85, 212, 0.2);
        }

        .button-content {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .button-text {
            font-size: 1.1em;
        }

        .arrow-icon {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }

        .view-guide-button:hover .arrow-icon {
            transform: translateX(4px);
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <!-- Left Navigation -->
        <div class="left-side">
            <i class="material-icons nav-icon" data-section="dashboard">dashboard</i>
            <i class="material-icons nav-icon" data-section="website">language</i>
            <i class="material-icons nav-icon" data-section="analytics">analytics</i>
            <i class="material-icons nav-icon" data-section="marketing">campaign</i>
            <i class="material-icons nav-icon" data-section="services">build</i>
            <i class="material-icons nav-icon" data-section="documents">description</i>
            <i class="material-icons nav-icon" data-section="boost">rocket_launch</i>
            <i class="material-icons nav-icon" data-section="settings">settings</i>
            <div class="nav-icon" data-section="legal">
                <i class="material-icons">gavel</i>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Header -->
            <div class="header">
                <div class="logo">Appleseed<span class="logo-det">Repairs</span></div>
                <div class="user-info">
                    <span class="date"></span>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard-section" class="dashboard-section">
                <div class="dashboard-grid">
                    <!-- Google Business Profile Section -->
                    <div class="metric-section">
                        <div class="section-header">
                            <h2>Google Business Profile</h2>
                            <div class="header-buttons">
                                <button class="header-button" onclick="window.open('https://business.google.com/dashboard', '_blank')">
                                    Manage Profile
                                </button>
                                <button class="header-button" onclick="window.open('https://maps.app.goo.gl/TgVoANUtMP6az9iS6', '_blank')">
                                    Maps
                                </button>
                                <button class="header-button" onclick="window.open('https://www.google.com/search?q=appleseed+repairs', '_blank')">
                                    Search
                                </button>
                                <button class="header-button" onclick="window.open('https://business.google.com/u/1/reviews', '_blank')">
                                    Reviews
                                </button>
                            </div>
                        </div>

                        <!-- Stats with trends -->
                        <div class="stats-container">
                            <div class="stat-item">
                                <span id="viewsCount" class="stat-value">438</span>
                                <span class="stat-label">Views Today</span>
                                <span id="viewsTrend" class="trend-indicator positive">+12%↑</span>
                            </div>
                            <div class="stat-item">
                                <span id="reviewsCount" class="stat-value">23</span>
                                <span class="stat-label">New Reviews</span>
                                <span id="reviewsTrend" class="trend-indicator positive">+3 today</span>
                            </div>
                            <div class="stat-item">
                                <span id="ratingValue" class="stat-value">4.8</span>
                                <span class="stat-label">Rating</span>
                                <span class="rating-stars">★★★★★</span>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <button class="action-btn" onclick="window.open('https://business.google.com/posts/create', '_blank')">
                                Create Post
                            </button>
                            <button class="action-btn" onclick="window.open('https://business.google.com/photos', '_blank')">
                                Add Photos
                            </button>
                            <button class="action-btn" onclick="window.open('https://business.google.com/reviews', '_blank')">
                                View Reviews
                            </button>
                            <button class="action-btn" onclick="window.open('https://business.google.com/messaging', '_blank')">
                                Messages
                            </button>
                        </div>
                    </div>

                    <!-- Add this after the Google Business Profile metrics -->
                    <div class="maps-preview-section">
                        <div class="maps-container">
                            <iframe
                                id="google-map-preview"
                                width="100%"
                                height="300"
                                style="border:0; border-radius: 10px;"
                                loading="lazy"
                                allowfullscreen
                                referrerpolicy="no-referrer-when-downgrade"
                                src="https://www.google.com/maps/embed/v1/place?key=YOUR_API_KEY&q=Appleseed+Repairs">
                            </iframe>
                        </div>
                        <div class="maps-stats">
                            <div class="map-stat-item">
                                <i class="material-icons">visibility</i>
                                <span class="stat-value">2.3K</span>
                                <span class="stat-label">Map Views</span>
                            </div>
                            <div class="map-stat-item">
                                <i class="material-icons">directions</i>
                                <span class="stat-value">156</span>
                                <span class="stat-label">Directions</span>
                            </div>
                            <div class="map-stat-item">
                                <i class="material-icons">phone</i>
                                <span class="stat-value">89</span>
                                <span class="stat-label">Calls</span>
                            </div>
                        </div>
                    </div>

                    <!-- Facebook Business Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Facebook Business</h3>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <span class="metric-value" id="fb-views">271</span>
                                <span class="metric-label">Page Views</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="fb-messages">12</span>
                                <span class="metric-label">Messages</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="fb-engagement">159</span>
                                <span class="metric-label">Engagements</span>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Analytics Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Performance Analytics</h3>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <span class="metric-value">$2,450</span>
                                <span class="metric-label">Revenue</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">45m</span>
                                <span class="metric-label">Avg. Time</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">98%</span>
                                <span class="metric-label">Satisfaction</span>
                            </div>
                        </div>
                    </div>

                    <!-- Funnel Pages Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Funnel Pages</h3>
                        </div>
                        <div class="marketing-grid">
                            <div class="marketing-button" onclick="window.open('https://socials.fixmyapple.org/', '_blank')">
                                <i class="material-icons">share</i>
                                <span>Social Hub Page</span>
                            </div>
                        </div>
                    </div>

                    <!-- Promo Pages Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Promo Pages</h3>
                        </div>
                        <div class="marketing-grid">
                            <div class="marketing-button" onclick="window.open('https://iphone.fixmyapple.org/', '_blank')">
                                <i class="material-icons">phone_iphone</i>
                                <span>iPhone Promos</span>
                            </div>
                            <div class="marketing-button" onclick="window.open('https://ipad.fixmyapple.org/', '_blank')">
                                <i class="material-icons">tablet_mac</i>
                                <span>iPad Promos</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div id="analytics-section" class="dashboard-section" style="display: none">
                <div class="dashboard-grid">
                    <!-- Traffic Analytics -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Traffic Analytics</h3>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <span class="metric-value" id="daily-visitors">1,245</span>
                                <span class="metric-label">Daily Visitors</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="conversion-rate">3.2%</span>
                                <span class="metric-label">Conversion Rate</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="bounce-rate">42%</span>
                                <span class="metric-label">Bounce Rate</span>
                            </div>
                        </div>
                    </div>

                    <!-- Revenue Analytics -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Revenue Analytics</h3>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <span class="metric-value" id="monthly-revenue">$24,150</span>
                                <span class="metric-label">Monthly Revenue</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="avg-repair">$85</span>
                                <span class="metric-label">Avg. Repair Cost</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value" id="repairs-completed">284</span>
                                <span class="metric-label">Repairs This Month</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marketing Section -->
            <div id="marketing-section" class="dashboard-section" style="display: none">
                <div class="dashboard-grid">
                    <!-- Social Media Management -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Social Media</h3>
                        </div>
                        <div class="marketing-grid">
                            <button class="marketing-button" onclick="window.open('https://www.facebook.com/AppleSeedRepairs/', '_blank')">
                                <i class="material-icons">facebook</i>
                                Facebook Page
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.instagram.com/FixMyApple_IG', '_blank')">
                                <i class="material-icons">photo_camera</i>
                                Instagram Page
                            </button>
                            <button class="marketing-button" onclick="window.open('https://business.facebook.com/AppleSeedRepairs', '_blank')">
                                <i class="material-icons">business</i>
                                Facebook Business
                            </button>
                            <button class="marketing-button" onclick="window.open('https://business.instagram.com/Appleseed_Repairs', '_blank')">
                                <i class="material-icons">store</i>
                                Instagram Business
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.tiktok.com/@FixMyApple_TT', '_blank')">
                                <i class="material-icons">music_video</i>
                                TikTok
                            </button>
                            <button class="marketing-button" onclick="window.open('https://x.com/FixMyApple_X', '_blank')">
                                <i class="material-icons">alternate_email</i>
                                X (Twitter)
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.youtube.com/@user-kl5xw2zp8p', '_blank')">
                                <i class="material-icons">play_circle</i>
                                YouTube
                            </button>
                            <!-- Added eBay button -->
                            <button class="marketing-button" onclick="window.open('https://www.ebay.com/usr/appleseed-repairs', '_blank')">
                                <i class="material-icons">shopping_cart</i>
                                eBay Store
                            </button>
                        </div>
                    </div>

                    <!-- Marketing Materials -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Marketing Materials</h3>
                        </div>
                        <div class="marketing-grid">
                            <button class="marketing-button" onclick="window.open('https://www.qr-code-generator.com/solutions/business-qr-code/', '_blank')">
                                <i class="material-icons">qr_code</i>
                                <span>QR Codes</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.canva.com/create/business-cards/', '_blank')">
                                <i class="material-icons">contact_mail</i>
                                <span>Business Cards</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.canva.com/create/flyers/', '_blank')">
                                <i class="material-icons">description</i>
                                <span>Flyers</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://business.facebook.com/latest/home?nav_ref=bm_home_redirect', '_blank')">
                                <i class="material-icons">campaign</i>
                                <span>Meta Ads</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.vistaprint.com/my-account/', '_blank')">
                                <i class="material-icons">style</i>
                                <span>VistaPrint Account</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://codepen.io/fixmyapple', '_blank')">
                                <i class="material-icons">code</i>
                                <span>CodePen Ads</span>
                            </button>
                            <button class="marketing-button" onclick="window.open('https://codepen.io/appleseed-repairs', '_blank')">
                                <i class="material-icons">code</i>
                                <span>CodePen Alt</span>
                            </button>
                            <!-- Add new Squarespace DNS button -->
                            <button class="marketing-button" onclick="window.open('https://account.squarespace.com/domains/managed/fixmyapple.org/dns/dns-settings', '_blank')">
                                <i class="material-icons">dns</i>
                                <span>Squarespace DNS</span>
                            </button>
                        </div>
                    </div>

                    <!-- RSS Channels -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>RSS Channels</h3>
                        </div>
                        <div class="marketing-grid">
                            <button class="marketing-button" onclick="window.open('https://www.ifixit.com/News', '_blank')">
                                <i class="material-icons">build</i>
                                iFixit
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.macrumors.com/', '_blank')">
                                <i class="material-icons">apple</i>
                                MacRumors
                            </button>
                            <button class="marketing-button" onclick="window.open('https://9to5mac.com/', '_blank')">
                                <i class="material-icons">laptop_mac</i>
                                9to5Mac
                            </button>
                            <button class="marketing-button" onclick="window.open('https://www.macworld.com/', '_blank')">
                                <i class="material-icons">devices</i>
                                MacWorld
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add after your RSS Channels section -->
            
            <!-- Services Section -->
            <div id="services-section" class="dashboard-section" style="display: none">
                <div class="dashboard-grid">
                    <!-- Service Management -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Service Management</h3>
                            <button class="action-button" onclick="addNewService()">Add Service</button>
                        </div>
                        <div class="services-list" id="servicesList">
                            <!-- Services will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Repair Guides -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h2>Repair Guides</h2>
                            <button class="action-button" onclick="addNewGuide()">Add Guide</button>
                        </div>
                        <div class="repair-guides-container">
                            <!-- iPhone 15 Pro Max Guide -->
                            <div class="repair-guide-card">
                                <div class="guide-header">
                                    <h3>iPhone 15 Pro Max Repair Guide</h3>
                                    <div class="guide-meta">
                                        <span class="device-model">A2849, A2850, A2851, A2852</span>
                                        <span class="release-date">Released September 2023</span>
                                    </div>
                                    <div class="guide-actions">
                                        <a href="https://sites.google.com/view/appleseed-repair-ip15-pro-max" target="_blank" class="view-guide-button">
                                            <span class="button-content">
                                                <i class="material-icons">menu_book</i>
                                                <span class="button-text">View Full Guide</span>
                                            </span>
                                            <i class="material-icons arrow-icon">arrow_forward</i>
                                        </a>
                                    </div>
                                </div>
                                
                                <!-- Rest of the guide content -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings-section" class="dashboard-section" style="display: none">
                <div class="dashboard-grid">
                    <!-- Account Settings -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Account Settings</h3>
                        </div>
                        <div class="settings-form">
                            <form id="accountSettingsForm">
                                <div class="form-group">
                                    <label>Business Name</label>
                                    <input type="text" id="businessName" value="Appleseed Repairs">
                                </div>
                                <div class="form-group">
                                    <label>Contact Email</label>
                                    <input type="email" id="contactEmail">
                                </div>
                                <div class="form-group">
                                    <label>Phone Number</label>
                                    <input type="tel" id="phoneNumber">
                                </div>
                                <button type="submit" class="action-button">Save Changes</button>
                            </form>
                        </div>
                    </div>

                    <!-- Preferences -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Preferences</h3>
                        </div>
                        <div class="settings-form">
                            <form id="preferencesForm">
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="emailNotifications">
                                        Email Notifications
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="autoUpdate">
                                        Auto-update Dashboard
                                    </label>
                                </div>
                                <button type="submit" class="action-button">Save Preferences</button>
                            </form>
                        </div>
                    </div>

                    <!-- API Settings -->
                    <div class="api-settings">
                        <h3>API Settings</h3>
                        
                        <div class="form-group">
                            <label>Google Business Profile API Key</label>
                            <input type="text" id="googleApiKey" placeholder="Enter Google API Key" class="api-input">
                        </div>

                        <div class="form-group">
                            <label>Facebook Graph API Token</label>
                            <input type="text" id="facebookApiToken" placeholder="Enter Facebook API Token" class="api-input">
                        </div>

                        <div class="form-group">
                            <label>Instagram Basic Display API Token</label>
                            <input type="text" id="instagramApiToken" placeholder="Enter Instagram API Token" class="api-input">
                        </div>

                        <div class="form-group">
                            <label>TikTok Business API Key</label>
                            <input type="text" id="tiktokApiKey" placeholder="Enter TikTok API Key" class="api-input">
                        </div>

                        <div class="form-group">
                            <label>Twitter/X API Bearer Token</label>
                            <input type="text" id="twitterApiToken" placeholder="Enter Twitter API Token" class="api-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Document Management -->
            <div id="documents-section" class="dashboard-section" style="display: none">
                <div class="dashboard-grid">
                    <!-- Document Upload Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Document Management</h3>
                        </div>
                        <div class="document-upload">
                            <form id="documentUploadForm" class="upload-form">
                                <div class="upload-area" id="dropZone">
                                    <i class="material-icons">cloud_upload</i>
                                    <p>Drag & Drop PDF files here or</p>
                                    <input type="file" id="fileInput" accept=".pdf" hidden>
                                    <button type="button" class="action-button" onclick="document.getElementById('fileInput').click()">
                                        Choose File
                                    </button>
                                    <p style="margin-top: 10px; font-size: 0.9em;">
                                        Files will be saved to: Downloads/appleseed-documents
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Document List Card -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Uploaded Documents</h3>
                        </div>
                        <div class="document-list" id="documentList">
                            <!-- Documents will be listed here -->
                        </div>
                    </div>

                    <!-- PDF Viewer Card -->
                    <div class="dashboard-card full-width">
                        <div class="card-header">
                            <h3>Document Viewer</h3>
                        </div>
                        <div class="pdf-viewer" id="pdfViewer">
                            <!-- PDF will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add new Website Analytics Section -->
            <div id="website-section" class="dashboard-section" style="display: none;">
                <div class="website-analytics">
                    <div class="section-header">
                        <h2>Website Analytics</h2>
                        <div class="header-buttons">
                            <button class="header-button" onclick="window.open('/admin', '_blank')">
                                Manage Website
                            </button>
                            <button class="header-button" onclick="window.open('https://analytics.google.com', '_blank')">
                                Analytics
                            </button>
                            <button class="header-button" onclick="window.open('https://search.google.com/search-console', '_blank')">
                                Search Console
                            </button>
                        </div>
                    </div>

                    <!-- Stats Container -->
                    <div class="stats-container">
                        <div class="stat-item">
                            <span id="visitsCount" class="stat-value">1,431</span>
                            <span class="stat-label">Visits Today</span>
                            <span id="visitsTrend" class="trend-indicator positive">+8%↑</span>
                        </div>
                        <div class="stat-item">
                            <span id="avgDuration" class="stat-value">3:11</span>
                            <span class="stat-label">Avg. Duration</span>
                            <span id="durationTrend" class="trend-indicator positive">+0:15</span>
                        </div>
                        <div class="stat-item">
                            <span id="bounceRate" class="stat-value">32.6%</span>
                            <span class="stat-label">Bounce Rate</span>
                            <span id="bounceTrend" class="trend-indicator negative">+2%↓</span>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="action-btn" onclick="newBlogPost()">New Blog Post</button>
                        <button class="action-btn" onclick="updateServices()">Update Services</button>
                        <button class="action-btn" onclick="viewBookings()">View Bookings</button>
                        <button class="action-btn" onclick="checkMessages()">Messages</button>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="performance-metrics">
                        <h3>Performance Metrics</h3>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <span class="metric-value">94</span>
                                <span class="metric-label">Page Speed</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 94%"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">88</span>
                                <span class="metric-label">SEO Score</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 88%"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">99.9%</span>
                                <span class="metric-label">Uptime</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 99.9%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

            <!-- Website Pages & Funnels Section -->
            <div class="metric-section">
                <div class="section-header">
                    <h2>Website Pages & Funnels</h2>
                    <div class="header-buttons">
                        <button class="header-button" onclick="addNewPage()">
                            <i class="material-icons">add</i> New Page
                        </button>
                        <button class="header-button" onclick="addNewFunnel()">
                            <i class="material-icons">account_tree</i> New Funnel
                        </button>
                    </div>
                </div>

                <!-- Funnel Navigation -->
                <div class="funnel-tabs">
                    <button class="funnel-tab active" data-funnel="all">All Pages</button>
                    <button class="funnel-tab" data-funnel="social">Social Funnel</button>
                    <button class="funnel-tab" data-funnel="sales">Sales Funnel</button>
                    <button class="funnel-tab" data-funnel="marketing">Marketing Funnel</button>
                    <button class="funnel-tab" data-funnel="promo">Promo Funnel</button>
                </div>

                <!-- Pages List -->
                <div class="pages-container">
                    <!-- Social Funnel Pages -->
                    <div class="funnel-group" data-funnel="social">
                        <div class="page-card">
                            <div class="page-info">
                                <h4>Social Hub</h4>
                                <span class="page-url">socials.fixmyapple.org</span>
                            </div>
                            <div class="page-stats">
                                <span class="stat">Views: 0</span>
                                <span class="stat">Conv: 0%</span>
                            </div>
                            <div class="page-actions">
                                <button class="action-btn small" onclick="window.open('https://socials.fixmyapple.org/', '_blank')">
                                    <i class="material-icons">open_in_new</i>
                                </button>
                                <button class="action-btn small">
                                    <i class="material-icons">edit</i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Promo Funnel Pages -->
                    <div class="funnel-group" data-funnel="promo">
                        <div class="page-card">
                            <div class="page-info">
                                <h4>iPhone Promos</h4>
                                <span class="page-url">iphone.fixmyapple.org</span>
                            </div>
                            <div class="page-stats">
                                <span class="stat">Views: 0</span>
                                <span class="stat">Conv: 0%</span>
                            </div>
                            <div class="page-actions">
                                <button class="action-btn small" onclick="window.open('https://iphone.fixmyapple.org/', '_blank')">
                                    <i class="material-icons">open_in_new</i>
                                </button>
                                <button class="action-btn small">
                                    <i class="material-icons">edit</i>
                                </button>
                            </div>
                        </div>

                        <div class="page-card">
                            <div class="page-info">
                                <h4>iPad Promos</h4>
                                <span class="page-url">ipad.fixmyapple.org</span>
                            </div>
                            <div class="page-stats">
                                <span class="stat">Views: 0</span>
                                <span class="stat">Conv: 0%</span>
                            </div>
                            <div class="page-actions">
                                <button class="action-btn small" onclick="window.open('https://ipad.fixmyapple.org/', '_blank')">
                                    <i class="material-icons">open_in_new</i>
                                </button>
                                <button class="action-btn small">
                                    <i class="material-icons">edit</i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add this new section -->
    <div id="boost-section" class="dashboard-section" style="display: none;">
            <h2>Post Boosting Management</h2>
            <!-- Platform Tabs -->
            <div class="platform-tabs">
                <button class="platform-tab active" data-platform="google">Google Page Boost</button>
                <button class="platform-tab" data-platform="facebook">Facebook Post Boost</button>
                <button class="platform-tab" data-platform="instagram">Instagram Post Boost</button>
                <button class="platform-tab" data-platform="tiktok">TikTok Post Boost</button>
                <button class="platform-tab" data-platform="x">X Post Boost</button>
                <button class="platform-tab" data-platform="website">Website Post Boost</button>
            </div>

            <!-- Add buttons for Google and Facebook Reviews Spreadsheets -->
            <div class="review-spreadsheets">
                <button onclick="window.open('https://1drv.ms/x/s!AsnB2SUTTdzOhoxz0LYta635g2U9vQ?e=bG7M7T', '_blank')" class="spreadsheet-btn">Google Reviews Spreadsheet</button>
                <button onclick="window.open('https://1drv.ms/x/s!AsnB2SUTTdzOho1hWReMV2XwKW0U3g?e=ZYiM9T', '_blank')" class="spreadsheet-btn">Facebook Reviews Spreadsheet</button>
            </div>

            <!-- Existing Boost Actions -->
            <div class="boost-actions">
                <!-- Video Views -->
                <div class="boost-action">
                    <i class="material-icons">play_circle</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Video Views</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Photo Views -->
                <div class="boost-action">
                    <i class="material-icons">image</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Photo Views</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Likes -->
                <div class="boost-action">
                    <i class="material-icons">thumb_up</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Likes</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Save -->
                <div class="boost-action">
                    <i class="material-icons">bookmark</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Save</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Share -->
                <div class="boost-action">
                    <i class="material-icons">share</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Share</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Random Comments -->
                <div class="boost-action">
                    <i class="material-icons">chat</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Random Comments</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Custom Comments -->
                <div class="boost-action">
                    <i class="material-icons">edit_note</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Custom Comments</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Silent Reviews -->
                <div class="boost-action">
                    <i class="material-icons">star_outline</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Silent Reviews</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Vocal Reviews -->
                <div class="boost-action">
                    <i class="material-icons">star</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Vocal Reviews</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Hearts -->
                <div class="boost-action">
                    <i class="material-icons">favorite</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Hearts</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>

                <!-- Stats -->
                <div class="boost-action">
                    <i class="material-icons">analytics</i>
                    <div class="boost-info">
                        <input type="number" class="boost-count" placeholder="0" min="0">
                        <span class="label">Stats</span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-count-btn">
                            <i class="material-icons">save</i>
                        </button>
                        <button class="edit-link-btn">
                            <i class="material-icons">link</i>
                        </button>
                        <button class="open-link-btn">
                            <i class="material-icons">launch</i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Provider Link Input -->
        </div>
    </div>

    <!-- Add this modal/popup HTML at the end of your body tag -->
    <div id="linkModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Enter Provider Link</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-input-group">
                <input type="text" id="providerLinkInput" placeholder="Enter provider link">
                <button class="save-modal-btn">
                    <i class="material-icons">save</i>
                    Save
                </button>
            </div>
        </div>
    </div>

    <!-- Add this new section before the closing main-container div -->
    <div id="legal-section" class="dashboard-section" style="display: none;">
        <div class="header">
            <h2>Business Setup Checklist</h2>
            <div class="header-actions">
                <button class="action-button" onclick="exportChecklist()">
                    <i class="material-icons">download</i>
                    Export
                </button>
            </div>
        </div>

        <div class="setup-grid">
            <div class="setup-card">
                <div class="card-header">
                    <h3>Legal Setup</h3>
                </div>
                <div class="setup-content">
                    <div class="setup-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="register-business">
                                <div class="step-title">
                                    <h4>Register Your Business Entity</h4>
                                    <span class="time-estimate">Estimated Time: 1-2 hours</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Determine business structure (LLC, Corporation, Sole Proprietorship)</li>
                                    <li>Check name availability</li>
                                    <li>Appoint registered agent</li>
                                    <li>File formation documents</li>
                                    <li>Obtain Certificate of Incorporation</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Visit <a href="https://ecorp.sos.ga.gov/" target="_blank">Georgia Corporations Division</a></li>
                                        <li>Create account or log in</li>
                                        <li>Complete registration process</li>
                                        <li>Pay filing fees</li>
                                        <li>Store documentation</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="ein-business">
                                <div class="step-title">
                                    <h4>Obtain an EIN</h4>
                                    <span class="time-estimate">Estimated Time: 30 minutes</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Gather essential business information</li>
                                    <li>Business name and address</li>
                                    <li>SSN of principal officer</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Visit <a href="https://www.irs.gov/businesses/small-businesses-self-employed/apply-for-an-employer-identification-number-ein-online" target="_blank">IRS</a> website</li>
                                        <li>Click "Apply Now" and complete form</li>
                                        <li>Submit and store confirmation</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="setup-card">
                <div class="card-header">
                    <h3>Tax Setup</h3>
                </div>
                <div class="setup-content">
                    <div class="setup-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="dor-registration">
                                <div class="step-title">
                                    <h4>Register with Georgia DOR</h4>
                                    <span class="time-estimate">Estimated Time: 1 hour</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Compile necessary information</li>
                                    <li>EIN, NAICS code</li>
                                    <li>Detailed business structure</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Visit <a href="https://gtc.dor.ga.gov/" target="_blank">Georgia Tax Center</a> website</li>
                                        <li>Register new Georgia business</li>
                                        <li>Create secure account</li>
                                        <li>Receive taxpayer ID via email</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="sales-tax">
                                <div class="step-title">
                                    <h4>Obtain a Sales Tax Certificate</h4>
                                    <span class="time-estimate">Included in DOR Registration</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Ensure sales tax registration</li>
                                    <li>Legally collect sales tax</li>
                                    <li>Display certificate at business location</li>
                                    <li>Maintain digital copy</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Indicate selling taxable goods/services during registration</li>
                                        <li>Download and print certificate from Georgia Tax Center</li>
                                        <li>Display certificate prominently at business location</li>
                                        <li>Maintain digital copy for online records</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="resale-certificate">
                                <div class="step-title">
                                    <h4>Obtain a Resale Certificate</h4>
                                    <span class="time-estimate">Estimated Time: 30 minutes</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Download Form ST-5 from Georgia DOR website</li>
                                    <li>Complete resale certificate form</li>
                                    <li>Submit form to Georgia DOR</li>
                                    <li>Provide certificate to suppliers</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Go to <a href="https://dor.georgia.gov/forms/st-5" target="_blank">Georgia DOR ST-5</a> page</li>
                                        <li>Download resale certificate form</li>
                                        <li>Fill out form with business details and sales tax information</li>
                                        <li>Submit form online or via mail</li>
                                        <li>Provide a copy to each supplier for tax-exempt status on wholesale purchases</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="tax-exempt">
                                <div class="step-title">
                                    <h4>Apply for Tax-Exempt Certificate</h4>
                                    <span class="time-estimate">Estimated Time: 1-2 hours</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Evaluate eligibility for tax exemptions</li>
                                    <li>Complete exemption forms</li>
                                    <li>Submit documentation</li>
                                    <li>Maintain records of submitted forms</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Review criteria for tax exemptions on <a href="https://dor.georgia.gov/tax-exemptions" target="_blank">Georgia DOR</a> website</li>
                                        <li>Download and complete appropriate exemption forms</li>
                                        <li>Provide detailed information about business activities and qualifying products</li>
                                        <li>Submit forms electronically or by mail</li>
                                        <li>Include all required information and documentation</li>
                                        <li>Follow up with Georgia DOR to confirm receipt and approval of tax-exempt status</li>
                                        <li>Store all related documents securely</li>
                                        <li>Update records to reflect tax-exempt status</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="setup-card">
                <div class="card-header">
                    <h3>Marketing & Operations</h3>
                </div>
                <div class="setup-content">
                    <div class="setup-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <div class="step-header">
                                <input type="checkbox" id="address-setup">
                                <div class="step-title">
                                    <h4>Establish Address & Cards</h4>
                                    <span class="time-estimate">Varies</span>
                                </div>
                            </div>
                            <div class="step-details">
                                <ul>
                                    <li>Secure physical or virtual business location</li>
                                    <li>Design and print high-quality business cards</li>
                                    <li>Consider professional email address</li>
                                    <li>Set up business website</li>
                                    <li>Create social media profiles</li>
                                </ul>
                                <div class="step-actions">
                                    <h5>Steps:</h5>
                                    <ol>
                                        <li>Choose suitable location for business (storefront, office space, home-based setup)</li>
                                        <li>Ensure location meets operational requirements</li>
                                        <li>Utilize online design tools or graphic designer to create visually appealing business cards</li>
                                        <li>Order printed business cards from reliable service provider</li>
                                        <li>Distribute cards to potential clients, partners, and networking events</li>
                                        <li>Set up professional email address (e.g., info@appleseedrepairs.com)</li>
                                        <li>Consider obtaining dedicated business phone line for professionalism and communication efficiency</li>
                                        <li>Develop user-friendly business website using platforms like WordPress, Wix, or Squarespace</li>
                                        <li>Include essential information such as services offered, contact details, and customer testimonials</li>
                                        <li>Create and manage social media profiles on platforms like Facebook, Instagram, and LinkedIn</li>
                                        <li>Reach broader audience, share updates, and interact with customers</li>
                                        <li>Complete all tasks to ensure Appleseed Repairs is ready for operation</li>
                                        <li>For further assistance, visit our support page or contact us directly</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add this inside the legal-section div, after the setup-grid -->
        <div class="legal-bookmarks-card">
            <div class="card-header">
                <h3>Legal & Tax Bookmarks</h3>
                <button class="action-button" onclick="exportBookmarks()">
                    <i class="material-icons">download</i>
                    Export Links
                </button>
            </div>
            <div class="bookmarks-grid">
                <!-- Tax Related -->
                <div class="bookmark-category">
                    <h4>Tax & Revenue</h4>
                    <div class="bookmark-list">
                        <a href="https://gtc.dor.ga.gov" class="bookmark-link" target="_blank">
                            <i class="material-icons">account_balance</i>
                            <span>Georgia Tax Center</span>
                        </a>
                        <a href="https://dor.georgia.gov/tax-exemptions" class="bookmark-link" target="_blank">
                            <i class="material-icons">verified</i>
                            <span>Tax Exemptions Portal</span>
                        </a>
                        <a href="https://dor.georgia.gov/forms/st-5" class="bookmark-link" target="_blank">
                            <i class="material-icons">description</i>
                            <span>Resale Certificate (ST-5)</span>
                        </a>
                    </div>
                </div>

                <!-- Business Registration -->
                <div class="bookmark-category">
                    <h4>Business Registration</h4>
                    <div class="bookmark-list">
                        <a href="https://ecorp.sos.ga.gov/" class="bookmark-link" target="_blank">
                            <i class="material-icons">business</i>
                            <span>GA Secretary of State</span>
                        </a>
                        <a href="https://www.irs.gov/businesses/small-businesses-self-employed/apply-for-an-employer-identification-number-ein-online" class="bookmark-link" target="_blank">
                            <i class="material-icons">pin</i>
                            <span>IRS EIN Application</span>
                        </a>
                        <a href="https://www.sba.gov/business-guide" class="bookmark-link" target="_blank">
                            <i class="material-icons">school</i>
                            <span>SBA Business Guide</span>
                        </a>
                    </div>
                </div>

                <!-- Compliance -->
                <div class="bookmark-category">
                    <h4>Compliance & Licenses</h4>
                    <div class="bookmark-list">
                        <a href="https://www.georgia.org/small-business/start/licenses-permits" class="bookmark-link" target="_blank">
                            <i class="material-icons">gavel</i>
                            <span>GA Licenses & Permits</span>
                        </a>
                        <a href="https://www.consumer.ftc.gov/business-center" class="bookmark-link" target="_blank">
                            <i class="material-icons">policy</i>
                            <span>FTC Business Center</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
    .setup-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        padding: 20px;
    }

    .setup-column {
        min-width: 350px;
    }

    .setup-step {
        background: rgba(26, 32, 73, 0.95);
        border-radius: 10px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    .setup-step:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    /* ... rest of your existing styles ... */
    </style>

    <script>
    function initializeSetupChecklist() {
        document.querySelectorAll('.setup-step input[type="checkbox"]').forEach(checkbox => {
            const stepId = checkbox.closest('.setup-step').dataset.id;
            if (localStorage.getItem(`setup-${stepId}`)) {
                checkbox.checked = true;
            }

            checkbox.addEventListener('change', (e) => {
                const stepId = e.target.closest('.setup-step').dataset.id;
                if (e.target.checked) {
                    localStorage.setItem(`setup-${stepId}`, 'true');
                    showNotification('Task marked as complete', 'success');
                } else {
                    localStorage.removeItem(`setup-${stepId}`);
                }
            });
        });
    }

    function exportChecklist() {
        const checklist = [];
        document.querySelectorAll('.setup-step').forEach(step => {
            checklist.push({
                task: step.querySelector('h4').textContent,
                completed: step.querySelector('input[type="checkbox"]').checked,
                requirements: Array.from(step.querySelectorAll('.requirements-list li')).map(li => li.textContent),
                steps: Array.from(step.querySelectorAll('.action-steps li')).map(li => li.textContent)
            });
        });

        const blob = new Blob([JSON.stringify(checklist, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'appleseed-setup-checklist.json';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    document.addEventListener('DOMContentLoaded', initializeSetupChecklist);
    </script>

    <script>
        // Core functionality
        document.addEventListener('DOMContentLoaded', () => {
            initializeDashboard();
            setupNavigationHandlers();
            updateDateTime();
            startMetricsUpdate();
        });

        function initializeDashboard() {
            // Set initial view to dashboard
            handleNavigation('dashboard');
            
            // Initialize all buttons
            document.querySelectorAll('[data-url]').forEach(button => {
                button.addEventListener('click', (e) => {
                    const url = e.target.dataset.url;
                    if (url) window.open(url, '_blank');
                });
            });
        }

        function setupNavigationHandlers() {
            document.querySelectorAll('.nav-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    handleNavigation(e.target.dataset.section);
                });
            });
        }

        function handleNavigation(section) {
            // Hide all sections
            document.querySelectorAll('.dashboard-section').forEach(el => {
                el.style.display = 'none';
            });
            
            // Remove active class from all nav icons
            document.querySelectorAll('.nav-icon').forEach(icon => {
                icon.classList.remove('active');
            });
            
            // Show selected section and activate icon
            document.getElementById(`${section}-section`).style.display = 'block';
            document.querySelector(`[data-section="${section}"]`).classList.add('active');
        }

        function updateDateTime() {
            const dateElement = document.querySelector('.date');
            dateElement.textContent = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function startMetricsUpdate() {
            // Update metrics every 30 seconds
            setInterval(() => {
                updateMetrics();
            }, 30000);
        }

        function updateMetrics() {
            // Simulate real-time updates
            document.getElementById('google-views').textContent = 
                Math.floor(Math.random() * 100) + 400;
            document.getElementById('fb-engagement').textContent = 
                Math.floor(Math.random() * 50) + 150;
        }

        // Services Management
        function addNewService() {
            const serviceModal = document.createElement('div');
            serviceModal.className = 'modal';
            serviceModal.innerHTML = `
                <div class="modal-content">
                    <h2>Add New Service</h2>
                    <form id="newServiceForm">
                        <input type="text" placeholder="Service Name" required>
                        <input type="number" placeholder="Price" step="0.01" required>
                        <div class="modal-buttons">
                            <button type="submit" class="action-button">Add</button>
                            <button type="button" class="action-button" onclick="closeModal()">Cancel</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(serviceModal);
        }

        function addNewGuide() {
            const guideModal = document.createElement('div');
            guideModal.className = 'modal';
            guideModal.innerHTML = `
                <div class="modal-content">
                    <h2>Add New Guide</h2>
                    <form id="newGuideForm">
                        <input type="text" placeholder="Guide Title" required>
                        <textarea placeholder="Guide Content" required></textarea>
                        <div class="modal-buttons">
                            <button type="submit" class="action-button">Add</button>
                            <button type="button" class="action-button" onclick="closeModal()">Cancel</button>
                        </div>
                    </form>
                </div>
            `;
            document.body.appendChild(guideModal);
        }

        // Marketing Actions
        function handleMarketingAction(action) {
            switch(action) {
                case 'qr':
                    generateQRCode();
                    break;
                case 'business-cards':
                    showBusinessCards();
                    break;
                case 'flyers':
                    showFlyers();
                    break;
                case 'ads':
                    showAdsManager();
                    break;
            }
        }

        // Settings Management
        document.getElementById('accountSettingsForm')?.addEventListener('submit', (e) => {
            e.preventDefault();
            saveAccountSettings();
        });

        document.getElementById('preferencesForm')?.addEventListener('submit', (e) => {
            e.preventDefault();
            savePreferences();
        });

        function saveAccountSettings() {
            // Implementation for saving account settings
            showNotification('Account settings saved successfully', 'success');
        }

        function savePreferences() {
            // Implementation for saving preferences
            showNotification('Preferences updated successfully', 'success');
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            const container = document.querySelector('.notification-container') || 
                document.createElement('div');
            container.className = 'notification-container';
            container.appendChild(notification);
            
            if (!document.body.contains(container)) {
                document.body.appendChild(container);
            }
            
            setTimeout(() => {
                notification.remove();
                if (container.children.length === 0) {
                    container.remove();
                }
            }, 3000);
        }

        function closeModal() {
            const modal = document.querySelector('.modal');
            if (modal) {
                modal.remove();
            }
        }

        // Document Management
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize drag and drop
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('fileInput');

            // Prevent default drag behaviors
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, preventDefaults, false);
                document.body.addEventListener(eventName, preventDefaults, false);
            });

            // Highlight drop zone when dragging over it
            ['dragenter', 'dragover'].forEach(eventName => {
                dropZone.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, unhighlight, false);
            });

            // Handle dropped files
            dropZone.addEventListener('drop', handleDrop, false);
            
            // Handle file input change
            fileInput.addEventListener('change', handleFiles, false);
        });

        function preventDefaults (e) {
            e.preventDefault();
            e.stopPropagation();
        }

        function highlight(e) {
            document.getElementById('dropZone').classList.add('highlight');
        }

        function unhighlight(e) {
            document.getElementById('dropZone').classList.remove('highlight');
        }

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }

        function handleFiles(files) {
            if (files instanceof FileList) {
                ([...files]).forEach(uploadFile);
            } else if (files.target) {
                // Handle file input change event
                ([...files.target.files]).forEach(uploadFile);
            }
        }

        function uploadFile(file) {
            if (file.type !== 'application/pdf') {
                showNotification('Only PDF files are allowed', 'error');
                return;
            }

            // Create new document item
            const documentList = document.getElementById('documentList');
            const documentItem = document.createElement('div');
            documentItem.className = 'document-item';
            documentItem.innerHTML = `
                <i class="material-icons">description</i>
                <span>${file.name}</span>
            `;

            // Add click handler to view PDF
            documentItem.addEventListener('click', () => {
                viewPDF(file);
            });

            documentList.appendChild(documentItem);
            showNotification('Document uploaded successfully', 'success');
        }

        function viewPDF(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const pdfViewer = document.getElementById('pdfViewer');
                pdfViewer.innerHTML = `
                    <embed 
                        src="${e.target.result}" 
                        type="application/pdf" 
                        width="100%" 
                        height="100%"
                    >
                `;
            };
            reader.readAsDataURL(file);
        }

        function setupDocumentHandling() {
            // Create a dedicated folder name for downloads
            const FOLDER_NAME = 'appleseed-documents';
            
            const uploadArea = document.querySelector('.upload-area');
            uploadArea.innerHTML = `
                <i class="material-icons">cloud_upload</i>
                <p>Drag & Drop PDF files here or</p>
                <input type="file" id="fileInput" accept=".pdf" hidden>
                <button type="button" class="action-button" onclick="document.getElementById('fileInput').click()">
                    Choose File
                </button>
                <p style="margin-top: 10px; font-size: 0.9em;">
                    Files will be saved to: Downloads/${FOLDER_NAME}
                </p>
            `;

            function handleFileUpload(file) {
                if (file.type !== 'application/pdf') {
                    showNotification('Only PDF files are allowed', 'error');
                    return;
                }

                // Save file to local downloads
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Create download link
                    const link = document.createElement('a');
                    link.href = e.target.result;
                    link.download = `${FOLDER_NAME}/${file.name}`;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);

                    // Add to document list
                    addDocumentToList(file);
                    
                    // Show the PDF
                    viewPDF(file);
                    
                    showNotification('Document saved to Downloads/' + FOLDER_NAME, 'success');
                };
                reader.readAsDataURL(file);
            }

            function addDocumentToList(file) {
                const documentList = document.getElementById('documentList');
                const documentItem = document.createElement('div');
                documentItem.className = 'document-item';
                documentItem.innerHTML = `
                    <i class="material-icons">description</i>
                    <span>${file.name}</span>
                `;
                documentList.appendChild(documentItem);
            }

            // Set up drag and drop handlers
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults (e) {
                e.preventDefault();
                e.stopPropagation();
            }

            uploadArea.addEventListener('drop', function(e) {
                const files = e.dataTransfer.files;
                handleFileUpload(files[0]);
            });

            // Handle file input change
            document.getElementById('fileInput').addEventListener('change', function(e) {
                handleFileUpload(e.target.files[0]);
            });
        }

        function viewPDF(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const pdfViewer = document.getElementById('pdfViewer');
                pdfViewer.innerHTML = `
                    <embed 
                        src="${e.target.result}" 
                        type="application/pdf" 
                        width="100%" 
                        height="100%"
                        style="border: none;"
                    >
                `;
            };
            reader.readAsDataURL(file);
        }

        // Initialize when the document loads
        document.addEventListener('DOMContentLoaded', setupDocumentHandling);

        // Add this IndexedDB setup and handling
        let db;

        function initializeDB() {
            const request = indexedDB.open('AppleseedDocs', 1);

            request.onerror = (event) => {
                console.error('Database error:', event.target.error);
            };

            request.onupgradeneeded = (event) => {
                db = event.target.result;
                if (!db.objectStoreNames.contains('documents')) {
                    db.createObjectStore('documents', { keyPath: 'name' });
                }
            };

            request.onsuccess = (event) => {
                db = event.target.result;
                loadSavedDocuments(); // Load documents when DB is ready
            };
        }

        function saveToIndexedDB(file, fileData) {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(['documents'], 'readwrite');
                const store = transaction.objectStore('documents');
                const item = {
                    name: file.name,
                    type: file.type,
                    data: fileData,
                    date: new Date().toISOString()
                };

                const request = store.put(item);
                
                request.onsuccess = () => resolve();
                request.onerror = () => reject(request.error);
            });
        }

        function loadSavedDocuments() {
            const transaction = db.transaction(['documents'], 'readonly');
            const store = transaction.objectStore('documents');
            const request = store.getAll();

            request.onsuccess = () => {
                const documents = request.result;
                const documentList = document.getElementById('documentList');
                documentList.innerHTML = ''; // Clear current list

                documents.forEach(doc => {
                    addDocumentToList(doc);
                });
            };
        }

        function deleteFromIndexedDB(fileName) {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(['documents'], 'readwrite');
                const store = transaction.objectStore('documents');
                const request = store.delete(fileName);
                
                request.onsuccess = () => resolve();
                request.onerror = () => reject(request.error);
            });
        }

        // Modified upload handling
        function handleFileUpload(file) {
            if (file.type !== 'application/pdf') {
                showNotification('Only PDF files are allowed', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = async function(e) {
                try {
                    await saveToIndexedDB(file, e.target.result);
                    addDocumentToList({
                        name: file.name,
                        type: file.type,
                        data: e.target.result
                    });
                    viewPDF(e.target.result);
                    showNotification('Document saved successfully', 'success');
                } catch (error) {
                    showNotification('Error saving document', 'error');
                }
            };
            reader.readAsDataURL(file);
        }

        function addDocumentToList(doc) {
            const documentList = document.getElementById('documentList');
            const documentItem = document.createElement('div');
            documentItem.className = 'document-item';
            documentItem.innerHTML = `
                <i class="material-icons">description</i>
                <span>${doc.name}</span>
                <div class="document-actions">
                    <button class="action-button small" onclick="viewPDF('${doc.data}')">
                        <i class="material-icons">visibility</i>
                    </button>
                    <button class="action-button small" onclick="deleteDocument('${doc.name}')">
                        <i class="material-icons">delete</i>
                    </button>
                </div>
            `;
            documentList.appendChild(documentItem);
        }

        async function deleteDocument(fileName) {
            try {
                await deleteFromIndexedDB(fileName);
                loadSavedDocuments(); // Refresh the list
                showNotification('Document deleted successfully', 'info');
            } catch (error) {
                showNotification('Error deleting document', 'error');
            }
        }

        function viewPDF(pdfData) {
            const pdfViewer = document.getElementById('pdfViewer');
            pdfViewer.innerHTML = `
                <embed 
                    src="${pdfData}" 
                    type="application/pdf" 
                    width="100%" 
                    height="100%"
                    style="border: none;"
                >
            `;
        }

        // Initialize when the document loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeDB();
            setupDocumentHandling();
        });

        // Modified setupDocumentHandling function
        function setupDocumentHandling() {
            const uploadArea = document.querySelector('.upload-area');
            uploadArea.innerHTML = `
                <i class="material-icons">cloud_upload</i>
                <p>Drag & Drop PDF files here or</p>
                <input type="file" id="fileInput" accept=".pdf" hidden>
                <button type="button" class="action-button" onclick="document.getElementById('fileInput').click()">
                    Choose File
                </button>
            `;

            // Set up drag and drop handlers
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });

            uploadArea.addEventListener('drop', function(e) {
                const files = e.dataTransfer.files;
                handleFileUpload(files[0]);
            });

            document.getElementById('fileInput').addEventListener('change', function(e) {
                handleFileUpload(e.target.files[0]);
            });
        }

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        // Google Business API Integration
        class GoogleBusinessAPI {
            constructor() {
                this.API_KEY = 'YOUR_API_KEY'; // You'll need to get this from Google Cloud Console
                this.LOCATION_ID = 'YOUR_LOCATION_ID'; // Your Google Business Profile location ID
            }

            async fetchMetrics() {
                const response = await fetch(`https://business.googleapis.com/v4/accounts/{accountId}/locations/${this.LOCATION_ID}/metrics`, {
                    headers: {
                        'Authorization': `Bearer ${this.API_KEY}`,
                        'Content-Type': 'application/json',
                    }
                });
                return await response.json();
            }

            // Simulate API calls with localStorage to persist data between refreshes
            async getViewsCount() {
                const stored = localStorage.getItem('lastViewCount') || 438;
                const newCount = parseInt(stored) + Math.floor(Math.random() * 5);
                localStorage.setItem('lastViewCount', newCount);
                return newCount;
            }

            async getReviewsCount() {
                const stored = localStorage.getItem('lastReviewCount') || 23;
                const newCount = Math.random() > 0.9 ? parseInt(stored) + 1 : stored;
                localStorage.setItem('lastReviewCount', newCount);
                return newCount;
            }

            async getRating() {
                return 4.8; // This would normally come from the API
            }
        }

        // Initialize and update metrics
        const googleAPI = new GoogleBusinessAPI();

        function updateMetrics() {
            googleAPI.fetchMetrics().then(metrics => {
                if (metrics) {
                    document.getElementById('viewsCount').textContent = metrics.views;
                    document.getElementById('reviewsCount').textContent = metrics.reviews;
                    document.getElementById('ratingValue').textContent = metrics.rating;
                    
                    // Update trends
                    updateTrends(metrics);
                }
            });
        }

        function updateTrends(metrics) {
            const lastViews = localStorage.getItem('previousViews') || metrics.views;
            const viewsChange = ((metrics.views - lastViews) / lastViews * 100).toFixed(1);
            
            document.getElementById('viewsTrend').textContent = 
                `${viewsChange > 0 ? '+' : ''}${viewsChange}%`;
            document.getElementById('viewsTrend').className = 
                `trend-indicator ${viewsChange >= 0 ? 'positive' : 'negative'}`;

            localStorage.setItem('previousViews', metrics.views);
        }

        // Update metrics every 5 minutes
        setInterval(updateMetrics, 300000);

        // Initial update
        document.addEventListener('DOMContentLoaded', updateMetrics);

        // Add this to your existing JavaScript
        class WebsiteAnalytics {
            constructor() {
                this.lastUpdate = Date.now();
            }

            async fetchAnalytics() {
                // This would normally fetch from your analytics API
                // For now, we'll simulate the data
                return {
                    visits: this.generateVisits(),
                    duration: this.generateDuration(),
                    bounceRate: this.generateBounceRate(),
                    performance: {
                        pageSpeed: 94,
                        seoScore: 88,
                        uptime: 99.9
                    }
                };
            }

            generateVisits() {
                const baseVisits = 1247;
                const hourOfDay = new Date().getHours();
                const variation = Math.sin(hourOfDay / 24 * Math.PI) * 200;
                return Math.floor(baseVisits + variation);
            }

            generateDuration() {
                const minutes = 3 + Math.random();
                const seconds = Math.floor(Math.random() * 60);
                return `${Math.floor(minutes)}:${seconds.toString().padStart(2, '0')}`;
            }

            generateBounceRate() {
                return (30 + Math.random() * 4).toFixed(1) + '%';
            }
        }

        const websiteAnalytics = new WebsiteAnalytics();

        function updateWebsiteMetrics() {
            websiteAnalytics.fetchAnalytics().then(data => {
                document.getElementById('websiteVisits').textContent = data.visits.toLocaleString();
                document.getElementById('avgDuration').textContent = data.duration;
                document.getElementById('bounceRate').textContent = data.bounceRate;
                
                // Update performance metrics
                document.getElementById('pageSpeed').textContent = data.performance.pageSpeed;
                document.getElementById('seoScore').textContent = data.performance.seoScore;
                document.getElementById('uptime').textContent = data.performance.uptime + '%';
            });
        }

        // Update metrics every 5 minutes
        setInterval(updateWebsiteMetrics, 300000);

        // Initial update
        document.addEventListener('DOMContentLoaded', () => {
            updateWebsiteMetrics();
        });

        // Funnel Management JavaScript
        class FunnelManager {
            constructor() {
                this.funnels = {
                    social: [],
                    sales: [],
                    marketing: [],
                    promo: []
                };
                this.loadFunnels();
                this.initializeEventListeners();
            }

            loadFunnels() {
                // Load saved funnels from localStorage
                const savedFunnels = localStorage.getItem('funnels');
                if (savedFunnels) {
                    this.funnels = JSON.parse(savedFunnels);
                }
                this.renderPages();
            }

            saveFunnels() {
                localStorage.setItem('funnels', JSON.stringify(this.funnels));
            }

            addPage(funnelType, pageData) {
                this.funnels[funnelType].push({
                    id: Date.now(),
                    ...pageData,
                    created: new Date().toISOString(),
                    stats: {
                        views: 0,
                        conversions: 0
                    }
                });
                this.saveFunnels();
                this.renderPages();
            }

            renderPages() {
                const container = document.querySelector('.pages-container');
                container.innerHTML = ''; // Clear existing content

                // Render pages for each funnel
                Object.entries(this.funnels).forEach(([funnelType, pages]) => {
                    const funnelGroup = document.createElement('div');
                    funnelGroup.className = 'funnel-group';
                    funnelGroup.dataset.funnel = funnelType;

                    pages.forEach(page => {
                        funnelGroup.innerHTML += `
                            <div class="page-card">
                                <div class="page-info">
                                    <h4>${page.title}</h4>
                                    <span class="page-url">${page.url}</span>
                                </div>
                                <div class="page-stats">
                                    <span class="stat">Views: ${page.stats.views}</span>
                                    <span class="stat">Conv: ${page.stats.conversions}%</span>
                                </div>
                                <div class="page-actions">
                                    <button class="action-btn small" onclick="window.open('${page.url}', '_blank')">
                                        <i class="material-icons">open_in_new</i>
                                    </button>
                                    <button class="action-btn small" onclick="funnelManager.editPage('${page.id}')">
                                        <i class="material-icons">edit</i>
                                    </button>
                                </div>
                            </div>
                        `;
                    });

                    container.appendChild(funnelGroup);
                });
            }

            initializeEventListeners() {
                // Funnel tab switching
                document.querySelectorAll('.funnel-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        document.querySelectorAll('.funnel-tab').forEach(t => t.classList.remove('active'));
                        e.target.classList.add('active');
                        this.showFunnel(e.target.dataset.funnel);
                    });
                });
            }

            showFunnel(funnelType) {
                document.querySelectorAll('.funnel-group').forEach(group => {
                    group.style.display = 
                        (funnelType === 'all' || group.dataset.funnel === funnelType) 
                            ? 'block' 
                            : 'none';
                });
            }
        }

        // Initialize Funnel Manager
        const funnelManager = new FunnelManager();

        // Add New Page Modal
        function addNewPage() {
            // Implement modal for adding new page
            const pageData = {
                title: 'New Landing Page',
                url: '/landing/new-page',
                funnelType: 'social'
            };
            funnelManager.addPage(pageData.funnelType, pageData);
        }

        // Add New Funnel Modal
        function addNewFunnel() {
            // Implement modal for adding new funnel
            console.log('Add new funnel');
        }

        // Add this to your existing JavaScript
        class MapsAnalytics {
            constructor() {
                this.lastUpdate = Date.now();
            }

            async fetchMapsStats() {
                // This would normally fetch from Google Maps API
                // For now, we'll simulate the data
                return {
                    mapViews: this.generateMapViews(),
                    directions: this.generateDirections(),
                    calls: this.generateCalls()
                };
            }

            generateMapViews() {
                return Math.floor(2300 + Math.random() * 200);
            }

            generateDirections() {
                return Math.floor(156 + Math.random() * 20);
            }

            generateCalls() {
                return Math.floor(89 + Math.random() * 10);
            }
        }

        const mapsAnalytics = new MapsAnalytics();

        function updateMapsMetrics() {
            mapsAnalytics.fetchMapsStats().then(data => {
                document.querySelector('.map-stat-item:nth-child(1) .stat-value').textContent = 
                    (data.mapViews / 1000).toFixed(1) + 'K';
                document.querySelector('.map-stat-item:nth-child(2) .stat-value').textContent = 
                    data.directions;
                document.querySelector('.map-stat-item:nth-child(3) .stat-value').textContent = 
                    data.calls;
            });
        }

        // Update metrics every 5 minutes
        setInterval(updateMapsMetrics, 300000);

        // Initial update
        document.addEventListener('DOMContentLoaded', () => {
            updateMapsMetrics();
        });

        // Update the navigation handling
        document.addEventListener('DOMContentLoaded', () => {
            const navIcons = document.querySelectorAll('.nav-icon');
            const sections = document.querySelectorAll('.dashboard-section');

            navIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    // Remove active class from all icons
                    navIcons.forEach(i => i.classList.remove('active'));
                    icon.classList.add('active');

                    // Hide all sections
                    sections.forEach(section => section.style.display = 'none');

                    // Show selected section
                    const sectionId = `${icon.dataset.section}-section`;
                    const section = document.getElementById(sectionId);
                    if (section) {
                        section.style.display = 'block';
                    }

                    // Initialize boost manager if boost section is selected
                    if (icon.dataset.section === 'boost' && !window.boostManager) {
                        window.boostManager = new BoostManager();
                    }
                });
            });
        });

        class BoostManager {
            constructor() {
                this.currentPlatform = 'google';
                this.links = this.loadLinks();
                this.counts = this.loadCounts();
                this.currentAction = null;
                this.initializeListeners();
            }

            initializeListeners() {
                // ... existing listeners ...

                // Modal handling
                const modal = document.getElementById('linkModal');
                const linkInput = document.getElementById('providerLinkInput');
                
                // Close modal when clicking outside
                window.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        this.saveAndCloseModal();
                    }
                });

                // Close modal with × button
                document.querySelector('.close-modal').addEventListener('click', () => {
                    this.saveAndCloseModal();
                });

                // Save when pressing Enter
                linkInput.addEventListener('keyup', (e) => {
                    if (e.key === 'Enter') {
                        this.saveAndCloseModal();
                    }
                });

                // Add edit link button listeners
                document.querySelectorAll('.edit-link-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const action = e.target.closest('.boost-action');
                        const type = action.querySelector('.label').textContent;
                        this.currentAction = action;
                        this.openLinkModal(type);
                    });
                });
            }

            openLinkModal(actionType) {
                const modal = document.getElementById('linkModal');
                const input = document.getElementById('providerLinkInput');
                const key = `${this.currentPlatform}-${actionType.toLowerCase().replace(' ', '-')}`;
                
                // Set existing link if any
                input.value = this.links[key] || '';
                
                // Show modal
                modal.style.display = 'block';
                input.focus();
            }

            saveAndCloseModal() {
                if (this.currentAction) {
                    const input = document.getElementById('providerLinkInput');
                    const type = this.currentAction.querySelector('.label').textContent;
                    const key = `${this.currentPlatform}-${type.toLowerCase().replace(' ', '-')}`;
                    
                    // Save the link
                    if (input.value.trim()) {
                        this.links[key] = input.value.trim();
                        localStorage.setItem('boostLinks', JSON.stringify(this.links));
                        this.currentAction.classList.add('has-link');
                    }
                }

                // Close modal
                document.getElementById('linkModal').style.display = 'none';
                this.currentAction = null;
            }

            loadLinks() {
                return JSON.parse(localStorage.getItem('boostLinks')) || {};
            }

            loadCounts() {
                return JSON.parse(localStorage.getItem('boostCounts')) || {};
            }

            saveLink(platform, type, link) {
                const key = `${platform}-${type}`;
                this.links[key] = link;
                localStorage.setItem('boostLinks', JSON.stringify(this.links));
            }

            saveCount(platform, type, count) {
                const key = `${platform}-${type}`;
                this.counts[key] = count;
                localStorage.setItem('boostCounts', JSON.stringify(this.counts));
            }

            // ... rest of your existing methods ...
        }

        // Initialize when document loads
        document.addEventListener('DOMContentLoaded', () => {
            // Navigation handling
            const navIcons = document.querySelectorAll('.nav-icon');
            const sections = document.querySelectorAll('.dashboard-section');

            navIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    navIcons.forEach(i => i.classList.remove('active'));
                    sections.forEach(s => s.style.display = 'none');
                    
                    icon.classList.add('active');
                    const sectionId = `${icon.dataset.section}-section`;
                    const section = document.getElementById(sectionId);
                    if (section) {
                        section.style.display = 'block';
                        if (icon.dataset.section === 'boost' && !window.boostManager) {
                            window.boostManager = new BoostManager();
                        }
                    }
                });
            });
        });

        // Add this to your existing script section
        let platformData = {
            google: {},
            facebook: {},
            instagram: {},
            tiktok: {},
            x: {},
            website: {}
        };

        function setupBoostPlatformTabs() {
            const platformTabs = document.querySelectorAll('.platform-tab');
            const boostActions = document.querySelector('.boost-actions');
            let currentPlatform = 'google'; // Default platform
            
            // Load any saved data from localStorage
            const savedData = localStorage.getItem('platformData');
            if (savedData) {
                platformData = JSON.parse(savedData);
            }

            // Setup save button handlers
            const saveButtons = document.querySelectorAll('.save-count-btn');
            saveButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const boostAction = this.closest('.boost-action');
                    const input = boostAction.querySelector('.boost-count');
                    const label = boostAction.querySelector('.label').textContent;
                    
                    if (input && input.value) {
                        // Save value for current platform
                        platformData[currentPlatform][label] = input.value;
                        localStorage.setItem('platformData', JSON.stringify(platformData));
                        
                        // Visual feedback
                        this.style.backgroundColor = '#4CAF50';
                        setTimeout(() => {
                            this.style.backgroundColor = '';
                        }, 1000);
                        
                        showNotification('Value saved successfully', 'success');
                    }
                });
            });

            // Setup tab switching
            platformTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    platformTabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Update current platform
                    currentPlatform = this.dataset.platform;
                    
                    // Update section title
                    const platform = this.textContent;
                    const title = document.querySelector('#boost-section h2');
                    if (title) {
                        title.textContent = `${platform} Management`;
                    }
                    
                    // Load values for this platform
                    loadPlatformValues(currentPlatform);
                });
            });
        }

        function loadPlatformValues(platform) {
            // Get saved values for this platform
            const platformValues = platformData[platform] || {};
            
            // Update all input fields
            document.querySelectorAll('.boost-action').forEach(action => {
                const label = action.querySelector('.label').textContent;
                const input = action.querySelector('.boost-count');
                input.value = platformValues[label] || '';
            });
        }

        // Make sure to call this function when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            setupBoostPlatformTabs();
            // Load initial platform values
            loadPlatformValues('google');
        });

        // Add to your existing JavaScript
        function saveAPISettings() {
            const apiSettings = {
                google: document.getElementById('googleApiKey').value,
                facebook: document.getElementById('facebookApiToken').value,
                instagram: document.getElementById('instagramApiToken').value,
                tiktok: document.getElementById('tiktokApiKey').value,
                twitter: document.getElementById('twitterApiToken').value
            };

            // Encrypt before storing
            const encryptedSettings = encryptAPIKeys(apiSettings);
            localStorage.setItem('apiSettings', encryptedSettings);
            
            showNotification('API settings saved successfully', 'success');
        }

        // Simple encryption (you should use a more secure method in production)
        function encryptAPIKeys(data) {
            return btoa(JSON.stringify(data));
        }

        // Load saved API settings
        function loadAPISettings() {
            const savedSettings = localStorage.getItem('apiSettings');
            if (savedSettings) {
                const decryptedSettings = JSON.parse(atob(savedSettings));
                
                document.getElementById('googleApiKey').value = decryptedSettings.google || '';
                document.getElementById('facebookApiToken').value = decryptedSettings.facebook || '';
                document.getElementById('instagramApiToken').value = decryptedSettings.instagram || '';
                document.getElementById('tiktokApiKey').value = decryptedSettings.tiktok || '';
                document.getElementById('twitterApiToken').value = decryptedSettings.twitter || '';
            }
        }

        // Add to your DOMContentLoaded event
        document.addEventListener('DOMContentLoaded', () => {
            loadAPISettings();
            
            // Add save handler to the Save Changes button
            document.querySelector('.save-changes-btn').addEventListener('click', () => {
                saveAPISettings();
            });
        });

        // Add this to your JavaScript section
        const CLIENT_ID = 'YOUR_CLIENT_ID'; // Get this from Google Cloud Console Credentials

        function initializeGoogleAuth() {
            // Add Google's OAuth 2.0 client library
            const script = document.createElement('script');
            script.src = 'https://accounts.google.com/gsi/client';
            document.head.appendChild(script);

            script.onload = () => {
                // Initialize Google client
                google.accounts.oauth2.initTokenClient({
                    client_id: CLIENT_ID,
                    scope: [
                        'openid',
                        'https://www.googleapis.com/auth/userinfo.profile',
                        'https://www.googleapis.com/auth/userinfo.email',
                        'https://www.googleapis.com/auth/business.manage'
                    ].join(' '),
                    callback: handleAuthResponse
                });
            };
        }

        function handleAuthResponse(response) {
            if (response.access_token) {
                // Store the token
                localStorage.setItem('google_access_token', response.access_token);
                
                // Test the token by getting business info
                fetchBusinessInfo(response.access_token);
            }
        }

        async function fetchBusinessInfo(token) {
            try {
                const response = await fetch('https://mybusinessbusinessinformation.googleapis.com/v1/accounts', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                const data = await response.json();
                console.log('Business accounts:', data);
                showNotification('Successfully connected to Google Business Profile!', 'success');
            } catch (error) {
                console.error('Error fetching business info:', error);
                showNotification('Error connecting to Google Business Profile', 'error');
            }
        }

        // Add test button to settings page
        function addTestButton() {
            const apiSettings = document.querySelector('.api-settings');
            const testButton = document.createElement('button');
            testButton.className = 'action-button';
            testButton.textContent = 'Test Google Integration';
            testButton.onclick = () => {
                google.accounts.oauth2.initTokenClient({
                    client_id: CLIENT_ID,
                    scope: [
                        'openid',
                        'https://www.googleapis.com/auth/userinfo.profile',
                        'https://www.googleapis.com/auth/userinfo.email',
                        'https://www.googleapis.com/auth/business.manage'
                    ].join(' '),
                    callback: handleAuthResponse
                }).requestAccessToken();
            };
            apiSettings.appendChild(testButton);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeGoogleAuth();
            addTestButton();
        });

        // Add these functions to handle settings saving
        function saveAllSettings() {
            // Get all settings values
            const settings = {
                business: {
                    name: document.getElementById('businessName').value,
                    email: document.getElementById('contactEmail').value,
                    phone: document.getElementById('phoneNumber').value
                },
                preferences: {
                    emailNotifications: document.getElementById('emailNotifications').checked,
                    autoUpdate: document.getElementById('autoUpdate').checked
                },
                apiKeys: {
                    google: document.getElementById('googleApiKey').value,
                    facebook: document.getElementById('facebookApiToken').value,
                    instagram: document.getElementById('instagramApiToken').value,
                    tiktok: document.getElementById('tiktokApiKey').value,
                    twitter: document.getElementById('twitterApiToken').value
                }
            };

            // Encrypt sensitive data
            const encryptedSettings = btoa(JSON.stringify(settings));
            
            // Save to localStorage
            localStorage.setItem('dashboardSettings', encryptedSettings);
            
            showNotification('Settings saved successfully', 'success');
        }

        function loadSavedSettings() {
            // Get saved settings
            const savedSettings = localStorage.getItem('dashboardSettings');
            
            if (savedSettings) {
                try {
                    // Decrypt and parse settings
                    const settings = JSON.parse(atob(savedSettings));
                    
                    // Apply business settings
                    document.getElementById('businessName').value = settings.business.name || '';
                    document.getElementById('contactEmail').value = settings.business.email || '';
                    document.getElementById('phoneNumber').value = settings.business.phone || '';
                    
                    // Apply preferences
                    document.getElementById('emailNotifications').checked = settings.preferences.emailNotifications;
                    document.getElementById('autoUpdate').checked = settings.preferences.autoUpdate;
                    
                    // Apply API keys
                    document.getElementById('googleApiKey').value = settings.apiKeys.google || '';
                    document.getElementById('facebookApiToken').value = settings.apiKeys.facebook || '';
                    document.getElementById('instagramApiToken').value = settings.apiKeys.instagram || '';
                    document.getElementById('tiktokApiKey').value = settings.apiKeys.tiktok || '';
                    document.getElementById('twitterApiToken').value = settings.apiKeys.twitter || '';
                    
                } catch (error) {
                    console.error('Error loading settings:', error);
                    showNotification('Error loading saved settings', 'error');
                }
            }
        }

        // Add event listeners for forms
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved settings when page loads
            loadSavedSettings();
            
            // Add submit handlers for forms
            document.getElementById('accountSettingsForm').addEventListener('submit', (e) => {
                e.preventDefault();
                saveAllSettings();
            });
            
            document.getElementById('preferencesForm').addEventListener('submit', (e) => {
                e.preventDefault();
                saveAllSettings();
            });
            
            // Add save handler to API settings
            const apiInputs = document.querySelectorAll('.api-input');
            apiInputs.forEach(input => {
                input.addEventListener('change', saveAllSettings);
            });
            
            // Add auto-save for all inputs
            const allInputs = document.querySelectorAll('input');
            allInputs.forEach(input => {
                input.addEventListener('change', saveAllSettings);
            });
        });

        // Add a manual save button to API settings section
        const apiSettings = document.querySelector('.api-settings');
        const saveButton = document.createElement('button');
        saveButton.className = 'action-button';
        saveButton.textContent = 'Save All Settings';
        saveButton.onclick = saveAllSettings;
        apiSettings.appendChild(saveButton);

        // Add this after your existing showNotification function
        function initializeConnectionMonitoring() {
            // Create status indicator
            const indicator = document.createElement('div');
            indicator.id = 'connectionStatus';
            indicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 15px;
                height: 15px;
                border-radius: 50%;
                z-index: 9999;
                cursor: pointer;
                transition: all 0.3s ease;
            `;
            document.body.appendChild(indicator);

            // Function to update status
            function updateOnlineStatus() {
                const isOnline = navigator.onLine;
                indicator.style.backgroundColor = isOnline ? '#4CAF50' : '#f44336';
                indicator.style.boxShadow = `0 0 10px ${isOnline ? '#4CAF50' : '#f44336'}`;
                indicator.title = isOnline ? 'Online - Data will sync' : 'Offline - Working locally';
                
                // Show notification
                showNotification(
                    isOnline ? 'Connected to internet' : 'Working offline', 
                    isOnline ? 'success' : 'info'
                );
            }

            // Add event listeners
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);

            // Initial status check
            updateOnlineStatus();
        }

        // Add this to your existing DOMContentLoaded event listener
        document.addEventListener('DOMContentLoaded', () => {
            // Your existing initialization code...
            initializeConnectionMonitoring();
        });

        // Add this after your existing showNotification function
        function initializeSetupChecklist() {
            // Create checklist container
            const checklistSection = document.createElement('div');
            checklistSection.className = 'setup-checklist';
            checklistSection.innerHTML = `
                <h3>Business Setup Progress</h3>
                <div class="checklist-items"></div>
            `;

            // Add styles
            const styles = document.createElement('style');
            styles.textContent = `
                .setup-checklist {
                    padding: 20px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 8px;
                    margin: 20px;
                }
                .checklist-item {
                    display: flex;
                    align-items: center;
                    padding: 10px;
                    margin: 5px 0;
                    background: rgba(255, 255, 255, 0.02);
                    border-radius: 4px;
                }
                .checklist-item input[type="checkbox"] {
                    margin-right: 10px;
                }
                .checklist-item.completed {
                    opacity: 0.7;
                }
                .item-details {
                    flex: 1;
                }
                .item-time {
                    color: #888;
                    font-size: 0.9em;
                }
            `;
            document.head.appendChild(styles);

            // Add to marketing section
            const marketingSection = document.querySelector('.marketing-section');
            if (marketingSection) {
                marketingSection.appendChild(checklistSection);
                loadChecklistItems();
            }
        }

        function loadChecklistItems() {
            const items = [
                { id: 'register', name: 'Register Business Entity', time: '1-2 hours', link: 'https://ecorp.sos.ga.gov/' },
                { id: 'ein', name: 'Obtain EIN', time: '30 minutes', link: 'https://www.irs.gov/businesses/small-businesses-self-employed/apply-for-an-employer-identification-number-ein-online' },
                { id: 'dor', name: 'Register with Georgia DOR', time: '1 hour', link: 'https://gtc.dor.ga.gov/' },
                { id: 'sales-tax', name: 'Sales Tax Certificate', time: 'With DOR Registration' },
                { id: 'address', name: 'Establish Business Address', time: 'Varies' },
                { id: 'cards', name: 'Create Business Cards', time: '1-2 hours', link: 'https://www.vistaprint.com' }
            ];

            const container = document.querySelector('.checklist-items');
            if (!container) return;

            items.forEach(item => {
                const saved = localStorage.getItem(`checklist-${item.id}`);
                const div = document.createElement('div');
                div.className = `checklist-item ${saved ? 'completed' : ''}`;
                div.innerHTML = `
                    <input type="checkbox" id="${item.id}" ${saved ? 'checked' : ''}>
                    <div class="item-details">
                        <div>${item.name}</div>
                        <div class="item-time">${item.time}</div>
                        ${item.link ? `<a href="${item.link}" target="_blank">Open Resource →</a>` : ''}
                    </div>
                `;

                div.querySelector('input').addEventListener('change', (e) => {
                    if (e.target.checked) {
                        localStorage.setItem(`checklist-${item.id}`, 'true');
                        div.classList.add('completed');
                    } else {
                        localStorage.removeItem(`checklist-${item.id}`);
                        div.classList.remove('completed');
                    }
                });

                container.appendChild(div);
            });
        }

        // Add to your existing DOMContentLoaded event
        document.addEventListener('DOMContentLoaded', () => {
            // Your existing initialization code...
            initializeSetupChecklist();
        });

        // Add this after your existing showNotification function
        function addSetupChecklist() {
            // Find the marketing section
            const marketingSection = document.querySelector('.marketing-section');
            if (!marketingSection) {
                console.log('Marketing section not found');
                return;
            }

            // Create checklist section
            const checklistHTML = `
                <div class="setup-checklist" style="
                    padding: 20px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 8px;
                    margin: 20px 0;
                    color: white;
                ">
                    <h3 style="margin-bottom: 15px;">Business Setup Checklist</h3>
                    <div class="checklist-items">
                        <div class="checklist-item" style="
                            display: flex;
                            align-items: center;
                            padding: 15px;
                            margin: 10px 0;
                            background: rgba(255, 255, 255, 0.02);
                            border-radius: 4px;
                        ">
                            <input type="checkbox" id="register" style="margin-right: 15px;">
                            <div>
                                <div>Register Business Entity</div>
                                <div style="color: #888; font-size: 0.9em;">1-2 hours</div>
                                <a href="https://ecorp.sos.ga.gov/" target="_blank" style="color: #4CAF50; text-decoration: none;">Open Resource →</a>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Insert at the beginning of marketing section
            marketingSection.insertAdjacentHTML('afterbegin', checklistHTML);

            // Add checkbox functionality
            document.getElementById('register').addEventListener('change', (e) => {
                if (e.target.checked) {
                    localStorage.setItem('checklist-register', 'true');
                    showNotification('Task completed: Register Business Entity', 'success');
                } else {
                    localStorage.removeItem('checklist-register');
                }
            });

            // Load saved state
            if (localStorage.getItem('checklist-register')) {
                document.getElementById('register').checked = true;
            }
        }

        // Add to your existing DOMContentLoaded event
        document.addEventListener('DOMContentLoaded', () => {
            // Your existing initialization code...
            
            // Add checklist with a delay to ensure page is loaded
            setTimeout(addSetupChecklist, 1000);
        });

        // Add this after your existing showNotification function
        function addLegalSetupSection() {
            // Find the settings gear icon for reference
            const settingsIcon = document.querySelector('.settings-icon') || document.querySelector('[data-section="settings"]');
            
            // Create legal icon with the same structure as your other icons
            const legalIcon = document.createElement('div');
            legalIcon.className = 'nav-icon';
            legalIcon.dataset.section = 'legal';
            legalIcon.innerHTML = `
                <div class="icon">
                    <i class="fas fa-balance-scale"></i>
                </div>
            `;

            // Create the legal section content
            const mainContent = document.querySelector('.content-area') || document.querySelector('main');
            const legalSection = document.createElement('div');
            legalSection.className = 'section legal-section';
            legalSection.style.display = 'none';
            legalSection.innerHTML = `
                <div class="section-header">
                    <h2>Business Setup Progress</h2>
                </div>
                <div class="checklist-container"></div>
            `;

            // Insert the icon in the correct position
            if (settingsIcon) {
                settingsIcon.parentElement.insertBefore(legalIcon, settingsIcon);
            }

            // Add the section to main content
            mainContent.appendChild(legalSection);

            // Add click handler
            legalIcon.addEventListener('click', () => {
                // Hide all sections
                document.querySelectorAll('.section').forEach(section => {
                    section.style.display = 'none';
                });

                // Remove active class from all icons
                document.querySelectorAll('.nav-icon').forEach(icon => {
                    icon.classList.remove('active');
                });

                // Show legal section and activate icon
                legalSection.style.display = 'block';
                legalIcon.classList.add('active');

                // Initialize checklist content
                initializeLegalContent();
            });
        }

        // Add this function to initialize the checklist content
        function initializeLegalContent() {
            const container = document.querySelector('.checklist-container');
            if (!container) return;

            // Add your full checklist content here
            container.innerHTML = `
                <div class="checklist-section">
                    <h3>Legal Setup</h3>
                    <div class="checklist-item">
                        <div class="item-header">
                            <input type="checkbox" id="register-business">
                            <label for="register-business">1. Register Your Business Entity</label>
                            <span class="time-estimate">Estimated Time: 1-2 hours</span>
                        </div>
                        <div class="item-details">
                            <ul>
                                <li>Determine business structure (LLC, Corporation, Sole Proprietorship)</li>
                                <li>Check name availability</li>
                                <li>Appoint registered agent</li>
                                <li>File formation documents</li>
                                <li>Obtain Certificate of Incorporation</li>
                            </ul>
                            <div class="steps">
                                <h4>Steps:</h4>
                                <ol>
                                    <li>Visit <a href="https://ecorp.sos.ga.gov/" target="_blank">Georgia Corporations Division</a></li>
                                    <li>Create account or log in</li>
                                    <li>Complete registration process</li>
                                    <li>Pay filing fees</li>
                                    <li>Store documentation</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <!-- Add the rest of your checklist items here -->
                </div>
            `;

            // Add event listeners for checkboxes
            container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        localStorage.setItem(`checklist-${e.target.id}`, 'true');
                        showNotification('Task completed!', 'success');
                    } else {
                        localStorage.removeItem(`checklist-${e.target.id}`);
                    }
                });
            });

            // Load saved states
            container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                if (localStorage.getItem(`checklist-${checkbox.id}`)) {
                    checkbox.checked = true;
                }
            });
        }

        // Modify the existing click handler in addLegalSetupSection
        // Find this section in your code (around line 3896):
        if (!legalSection.querySelector('.checklist-container').children.length) {
            initializeLegalContent(); // Change this line from initializeChecklist() to initializeLegalContent()
        }

        function initializeLegalChecklist() {
            // Load saved states
            document.querySelectorAll('.checklist-item input[type="checkbox"]').forEach(checkbox => {
                const itemId = checkbox.closest('.checklist-item').dataset.id;
                if (localStorage.getItem(`legal-${itemId}`)) {
                    checkbox.checked = true;
                }

                checkbox.addEventListener('change', (e) => {
                    const itemId = e.target.closest('.checklist-item').dataset.id;
                    if (e.target.checked) {
                        localStorage.setItem(`legal-${itemId}`, 'true');
                        showNotification('Task marked as complete', 'success');
                    } else {
                        localStorage.removeItem(`legal-${itemId}`);
                    }
                });
            });
        }

        function exportChecklist() {
            const checklist = [];
            document.querySelectorAll('.checklist-item').forEach(item => {
                checklist.push({
                    task: item.querySelector('h4').textContent,
                    completed: item.querySelector('input[type="checkbox"]').checked
                });
            });

            const blob = new Blob([JSON.stringify(checklist, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'business-setup-checklist.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Add to your existing DOMContentLoaded event listener
        document.addEventListener('DOMContentLoaded', () => {
            initializeLegalChecklist();
        });

        function updateProgress() {
            const totalSteps = document.querySelectorAll('.setup-step').length;
            const completedSteps = document.querySelectorAll('.setup-step input[type="checkbox"]:checked').length;
            const progressPercentage = (completedSteps / totalSteps) * 100;
            
            document.getElementById('setup-progress').style.width = `${progressPercentage}%`;
            document.getElementById('completed-steps').textContent = completedSteps;
            document.getElementById('total-steps').textContent = totalSteps;
        }

        document.querySelectorAll('.setup-step input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                const stepId = checkbox.id;
                if (checkbox.checked) {
                    localStorage.setItem(`setup-${stepId}`, 'true');
                    showNotification('Step completed!', 'success');
                } else {
                    localStorage.removeItem(`setup-${stepId}`);
                }
                updateProgress();
            });

            // Load saved state
            const stepId = checkbox.id;
            if (localStorage.getItem(`setup-${stepId}`)) {
                checkbox.checked = true;
            }
        });

        // Initial progress update
        document.addEventListener('DOMContentLoaded', updateProgress);

        // Add this JavaScript function
        function exportBookmarks() {
            const bookmarks = [];
            document.querySelectorAll('.bookmark-link').forEach(link => {
                bookmarks.push({
                    name: link.querySelector('span').textContent,
                    url: link.href,
                    category: link.closest('.bookmark-category').querySelector('h4').textContent
                });
            });

            const blob = new Blob([JSON.stringify(bookmarks, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'appleseed-legal-bookmarks.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>